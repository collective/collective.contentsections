<html metal:use-macro="context/@@main_template/macros/master">
    <metal:main fill-slot="main">
        <metal:content-core define-macro="content-core">

            <div class="row row-cols-1 row-cols-md-${context/group_size} g-4">
                <div class="col" tal:repeat="item view/items">
                    <div class="card">
                        <img tal:condition="not:context/hide_item_lead_images" src="${item/lead_image_url}" class="card-img-top" alt="Lead image" />
                        <?python
                            show_title = not context.hide_item_titles
                            show_description = not context.hide_item_descriptions
                            show_card_body = show_title or show_description
                        ?>
                        <div class="card-body" tal:condition="show_card_body">
                            <div class="card-tags fs-6" tal:condition="item/tags">
                                <span class="card-tag" tal:repeat="tag item/tags">${tag}</span>
                            </div>
                            <h5 class="card-title" tal:condition="not:context/hide_item_titles">${item/title}</h5>
                            <p class="card-text" tal:condition="not:context/hide_item_descriptions">${item/description}</p>
                            <a tal:condition="item/url" href="${item/url}">
                                En savoir plus
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div tal:condition="view/more_link_text | nothing" class="section-more-link">
                <a href="${view/more_link_url}">${view/more_link_text}</a>
            </div>

        </metal:content-core>
    </metal:main>
</html>
